<article class="content-preview" *ngIf="!!focusedItem">
  
  <header class="wrap-img-txt">
    <figure>
      <div class="img img-round">
        <img *ngIf="type === 'project'" [src]="focusedItem.image" [alt]="focusedItem.name">
        <img *ngIf="type === 'role'" [src]="focusedItem.company.logo" [alt]="focusedItem.company.name">
        <img *ngIf="type === 'diploma'" [src]="focusedItem.school.image" [alt]="focusedItem.school.name">
      </div>
      
      <figcaption class="details-headings">
        <h2>{{ focusedItem.name | translate }}</h2>
        <h4>{{ focusedItem.category }}</h4>
        <!-- If PROJECT -->
        <h4 *ngIf="type === 'project' && focusedItem.company">
          {{ 'as' | translate }}&nbsp;{{ focusedItem.company.role }}&nbsp;{{ 'at' | translate }}&nbsp;
          <a [href]="focusedItem.company.url" target="_blank">{{ focusedItem.company.name }}</a>
        </h4>
        <!-- If ROLE -->
        <h4 *ngIf="type === 'role'">
          {{ 'at' | translate }}&nbsp;
          <a [href]="focusedItem.company.url" target="_blank">{{ focusedItem.company.name }}</a>
        </h4>
        <!-- If DIPLOMA -->
        <h4 *ngIf="type === 'diploma'">
          {{ 'at' | translate }}&nbsp;
          <a [href]="focusedItem.school.url" target="_blank">{{ focusedItem.school.name }}</a>&nbsp;
          {{ 'in' | translate }} {{ focusedItem.school.country }}
        </h4>
        
        <p class="wrap-dates text-center-xs">
          {{ focusedItem.dates.start | date : "MMM yyyy" }}
          <span class="content-prefix">{{ "to" | translate }}</span>
          {{ (focusedItem.dates.end | date : "MMM yyyy") || ("present" | translate) }}
        </p>
      </figcaption>
    </figure>
  </header>

  <header>
    
    
    <!-- NAME -->
    <h3>{{ focusedItem.name | translate }}</h3>

    <!-- IF company or diploma -->
    <h4 *ngIf="focusedItem.company || focusedItem.school">
      <span class="content-prefix">{{ "at" | translate }}</span>&nbsp;
      <span *ngIf="focusedItem.company">{{ focusedItem.company.name | translate }}</span>
      <span *ngIf="focusedItem.school">{{ focusedItem.school.name | translate }}</span>
    </h4>

    <!-- IF project -->
    <h4 *ngIf="focusedItem.client">
      <span class="content-prefix">{{ "for" | translate }}</span>&nbsp;
      {{ focusedItem.client.name | translate }}
    </h4>
  </header>

  <!-- DATE -->
  <p>
    {{ focusedItem.dates.start | date : "MMM yyyy" }}
    <span class="content-prefix">{{ "to" | translate }}</span>
    {{ (focusedItem.dates.end | date : "MMM yyyy") || ("present" | translate) }}
  </p>

  <!-- DESC -->
  <p>{{ focusedItem.desc | translate | ellipsis:200 }}</p>

</article>
